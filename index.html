<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zhdanov Portfolio</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;800&family=Syne:wght@700;800&family=Archivo+Black&family=Fira+Code:wght@600&display=swap"
        rel="stylesheet">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        /* --- Base Variables & Reset --- */
        :root {
            --bg-color: #ffffff;
            --text-color: #1a1a1a;
            --accent-black: #1a1a1a;
            --font-main: 'Manrope', sans-serif;
            --font-design: 'Syne', sans-serif;
            --font-3d: 'Archivo Black', sans-serif;
            --font-tech: 'Fira Code', monospace;
            --card-gray: #f8f8f8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: -webkit-fill-available;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
            height: 100vh;
            height: -webkit-fill-available;
            width: 100vw;
        }

        /* --- Navigation --- */
        nav {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 2.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 20;
        }



        .nav-menu {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 0.25rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: #888;
            font-size: 0.85rem;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: color 0.3s;
            opacity: 0;
            transform: translateX(20px);
        }

        .nav-menu a:hover {
            color: var(--text-color);
        }

        /* --- Main Hero Content --- */
        .hero {
            position: relative;
            height: 100vh;
            width: 100%;
            padding: 0 3rem;
            z-index: 10;
            display: flex;
            flex-direction: column;
            padding-top: 15vh;
            /* Added padding to push content down a bit */
            padding-bottom: 37vh;
            /* Increased to push content up above higher footer */
        }

        .hero-text-row {
            margin-top: 15vh;
            margin-bottom: 1rem;
            flex-shrink: 0;
        }



        .headline-nav {
            font-size: 3rem;
            font-weight: 600;
            line-height: 1.1;
            color: var(--text-color);
            /* Removed uppercase */
        }



        .projects-label {
            font-size: 1.5rem;
            font-weight: 600;
            width: 100%;
            text-align: center;
            margin-top: 4vh;
            /* Reduced further to help squeeze content up */
            margin-bottom: 2rem;
            color: var(--text-color);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 1s ease forwards 0.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- Carousel Section --- */
        .carousel-section {
            width: 100vw;
            position: relative;
            left: 50%;
            transform: translateX(-50%);
            flex-grow: 1;
            display: flex;
            flex-direction: row;
            /* Horizontal */
            align-items: center;
            justify-content: flex-start;
            gap: 2rem;
            padding: 0 3rem;
            /* Align to red lines (nav padding) */
            box-sizing: border-box;
            perspective: 1000px;
            min-height: 0;
            margin: 4vh 0;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
        }

        .carousel-section::-webkit-scrollbar {
            display: none;
        }

        .project-card {
            height: 15vh;
            width: calc((100vw - 10rem) / 3);
            /* (100vw - 6rem padding - 4rem gap) / 3 */
            flex-shrink: 0;
            scroll-snap-align: start;
            max-height: none;
            aspect-ratio: auto;
            background-color: transparent;
            /* Removed grey background */
            border-radius: 16px;
            border: none;
            box-shadow: none;

            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(50px);
            cursor: pointer;
            overflow: hidden;

            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .project-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 16px;
            border: 2px solid #000;
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .project-card:hover::after {
            opacity: 1;
            transform: scale(1);
        }

        .card-label {
            font-size: 3rem;
            font-weight: 800;
            color: #1a1a1a;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
            text-align: center;
            line-height: 1.4;
        }

        /* === 1. DESIGN CARD === */
        .card-design .card-label {
            font-family: var(--font-design);
            padding-bottom: 0.25em;
        }

        .card-design .typing-wrapper {
            display: inline-flex;
            align-items: center;
            position: relative;
        }

        .card-design .static-text {
            opacity: 1;
            transition: opacity 0.2s;
        }

        .card-design:hover .static-text {
            opacity: 0;
        }

        .card-design .typing-text {
            position: absolute;
            left: 0;
            top: 0;
            white-space: nowrap;
            overflow: hidden;
            width: 0;
            border-right: 4px solid #1a1a1a;
            color: #1a1a1a;
            opacity: 0;
            height: 85%;
        }

        .card-design:hover .typing-text {
            opacity: 1;
            animation: typeReveal 0.8s cubic-bezier(0.2, 0, 0.4, 1) forwards, blinkCursor 0.8s steps(2) infinite;
        }

        @keyframes typeReveal {
            to {
                width: 100%;
            }
        }

        @keyframes blinkCursor {

            0%,
            100% {
                border-color: transparent;
            }

            50% {
                border-color: #1a1a1a;
            }
        }


        /* === 2. 3D CARD === */
        .card-3d {
            perspective: 800px;
        }

        .spinner-wrapper {
            position: relative;
            width: 200px;
            height: 120px;
            transform-style: preserve-3d;
            transition: transform 1s ease-in-out;
        }

        .card-3d:hover .spinner-wrapper {
            transform: rotateY(360deg);
        }

        .layer {
            font-family: var(--font-3d);
            font-size: 4rem;
            /* Smaller font for 3D */
            color: #1a1a1a;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            backface-visibility: visible;
        }

        .layer:nth-child(1) {
            transform: translate(-50%, -50%) translateZ(0px);
            color: #1a1a1a;
        }

        .layer:nth-child(2) {
            transform: translate(-50%, -50%) translateZ(-2px);
            color: #333;
        }

        .layer:nth-child(3) {
            transform: translate(-50%, -50%) translateZ(-4px);
            color: #333;
        }

        .layer:nth-child(4) {
            transform: translate(-50%, -50%) translateZ(-6px);
            color: #555;
        }

        .layer:nth-child(5) {
            transform: translate(-50%, -50%) translateZ(-8px);
            color: #555;
        }

        .layer:nth-child(6) {
            transform: translate(-50%, -50%) translateZ(-10px);
            color: #777;
        }

        .layer:nth-child(7) {
            transform: translate(-50%, -50%) translateZ(-12px);
            color: #777;
        }

        .layer:nth-child(8) {
            transform: translate(-50%, -50%) translateZ(-14px);
            color: #999;
        }



        /* === 3. TECH CARD === */
        .card-tech {
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), background-color 0.3s ease;
        }

        .card-tech .card-label {
            font-family: var(--font-tech);
            font-weight: 600;
        }

        .card-tech:hover {
            background-color: #282c34;
        }

        .card-tech:hover::after {
            border-color: #555;
        }

        .tech-brackets {
            opacity: 0;
            color: #61dafb;
            transition: all 0.3s ease;
        }

        .tech-content {
            color: #1a1a1a;
            transition: all 0.3s ease;
        }

        .card-tech:hover .tech-brackets {
            opacity: 1;
        }

        .card-tech:hover .tech-content {
            color: #ffffff;
        }


        /* --- Large Title (Glitch & 3D Effect) --- */
        /* --- Large Title (Glitch & 3D Effect) --- */
        .large-title-container {
            width: 100vw;
            /* Expand clip boundary to full viewport */
            padding: 0 3rem;
            /* Maintain text alignment to red lines content box */
            box-sizing: border-box;
            position: relative;
            left: 50%;
            transform: translateX(-50%);
            margin: 0;
            margin-top: auto;
            text-align: justify;
            flex-shrink: 0;
            z-index: 5;
            perspective: 1000px;
            overflow: hidden;
            padding-bottom: 0.1em;
            /* Prevent bottom clipping of V */
            margin-bottom: -0.1em;
        }

        .glitch-title-wrapper {
            position: relative;
            display: inline-block;
            transform-style: preserve-3d;
            will-change: transform;
            width: 100%;
            /* Ensure it fills container */
        }

        .large-title {
            font-size: 11vw;
            font-weight: 800;
            line-height: 0.8;
            letter-spacing: -0.02em;
            text-transform: uppercase;
            color: var(--text-color);
            margin-left: 0;
            white-space: nowrap;
            text-align: justify;
            text-align-last: justify;
            /* Force full width justification */
            width: 100%;
            display: block;

            /* Initial State for Intro Animation */
            opacity: 0;
            transform: translateY(60px);
        }

        /* Glitch Slices (Hidden by default, visible on interaction) */
        .title-slice {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            /* Only visible during interaction */
            pointer-events: none;
            color: var(--text-color);
        }

        /* Define Horizontal Bands */
        .slice-1 {
            clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
        }

        .slice-2 {
            clip-path: polygon(0 33%, 100% 33%, 100% 66%, 0 66%);
        }

        .slice-3 {
            clip-path: polygon(0 66%, 100% 66%, 100% 100%, 0 100%);
        }

        /* Flicker Animation */
        .is-glitching .title-slice {
            animation: slice-flicker 0.1s infinite;
        }

        @keyframes slice-flicker {
            0% {
                opacity: 0.8;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.9;
            }
        }


        /* --- Curtain / Footer --- */
        .curtain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--accent-black);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Footer Logo RGB */
        .flower-wrapper {
            position: relative;
            width: 64px;
            height: 64px;
            pointer-events: none;
        }

        .logo-main {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            display: block;
        }

        .glitch-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-mask-image: url('Logotype_White.png');
            mask-image: url('Logotype_White.png');
            -webkit-mask-size: contain;
            mask-size: contain;
            -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
            opacity: 0;
            z-index: 5;
            mix-blend-mode: screen;
            will-change: transform, opacity;
        }

        .layer-red {
            background-color: #ff0055;
        }

        .layer-green {
            background-color: #00ff55;
        }

        .layer-blue {
            background-color: #0055ff;
        }

        .is-glitching-logo .logo-main {
            animation: flicker-main 0.15s infinite;
        }

        .is-glitching-logo .glitch-layer {
            animation: flicker-layers 0.2s infinite;
        }

        @keyframes flicker-main {
            0% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.9;
                transform: scale(1.02);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes flicker-layers {
            0% {
                opacity: 0.7;
            }

            25% {
                opacity: 1;
            }

            50% {
                opacity: 0.6;
            }

            100% {
                opacity: 0.8;
            }
        }

        /* --- Mobile --- */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
                min-height: 100vh;
            }

            .hero {
                height: 100vh;
                /* Fixed height for no scroll */
                min-height: 100vh;
                display: flex;
                /* Flex to distribute space */
                flex-direction: column;
                padding: 0 1.5rem;
                padding-top: 15vh;
                /* Reduced top padding */
                padding-bottom: 15vh;
                /* Reduced bottom padding */
                overflow: hidden;
                /* No scroll */
            }


            .headline-nav {
                font-size: 1.4rem;
                line-height: 1.1;
                max-width: 80%;
                text-align: left;
            }

            .carousel-section {
                flex-direction: column;
                gap: 1vh;
                /* Tighter gap */
                padding: 0 1.5rem;
                margin: 0;
                /* Reset margin */
                width: 100vw;
                left: 50%;
                transform: translateX(-50%);
                overflow-x: hidden;
                scroll-snap-type: none;
                height: auto;
                justify-content: center;
                flex-grow: 1;
                /* Take up available space */
            }

            .project-card {
                width: 100%;
                height: 16vh;
                /* Smaller cards to fit */
                aspect-ratio: auto;
                opacity: 0;
                flex-shrink: 0;
                scroll-snap-align: none;
            }

            .large-title-container {
                margin-top: 2rem;
                width: 100vw;
                padding: 0 1.5rem;
                box-sizing: border-box;
                /* Ensure padding doesn't expand width */
            }

            .large-title {
                font-size: 9.5vw;
                /* Slightly reduced to fit within padding */
            }

            nav {
                padding: 1.5rem;
            }

            .card-label {
                font-size: 2.5rem;
            }
        }
    </style>
</head>

<body>

    <nav>
        <div class="headline-nav">
            Designer, 3D Generalist<br>& Developer
        </div>
        <div class="nav-menu">
            <a href="#">Work</a>
            <a href="#">Blog</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
        </div>
    </nav>

    <div class="hero">
        <div class="carousel-section">
            <div class="project-card card-design">
                <div class="typing-wrapper">
                    <span class="card-label static-text">Design</span>
                    <span class="card-label typing-text">Design</span>
                </div>
            </div>
            <div class="project-card card-3d">
                <div class="spinner-wrapper">
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                    <div class="layer">3D</div>
                </div>
            </div>
            <div class="project-card card-tech">
                <span class="card-label">
                    <span class="tech-brackets">&lt;</span><span class="tech-content">Tech</span><span
                        class="tech-brackets">/&gt;</span>
                </span>
            </div>
        </div>

        <!-- Large Title (Wrapped for Glitch Effect) -->
        <div class="large-title-container" id="titleContainer">
            <div class="glitch-title-wrapper" id="titleWrapper">
                <h1 class="large-title main-title-layer">EVGENII ZHDANOV</h1>
                <!-- Slices for Distortion -->
                <h1 class="large-title title-slice slice-1">EVGENII ZHDANOV</h1>
                <h1 class="large-title title-slice slice-2">EVGENII ZHDANOV</h1>
                <h1 class="large-title title-slice slice-3">EVGENII ZHDANOV</h1>
            </div>
        </div>
    </div>

    <!-- Black Overlay / Footer -->
    <div class="curtain">
        <div class="flower-wrapper flower-center-target">
            <div class="glitch-layer layer-red"></div>
            <div class="glitch-layer layer-green"></div>
            <div class="glitch-layer layer-blue"></div>
            <img src="Logotype_White.png" class="logo-main" alt="Logotype White">
        </div>
    </div>

    <script>
        window.addEventListener('load', () => {
            let isIntroComplete = false;
            const tl = gsap.timeline({ defaults: { ease: "power3.out" } });

            // Intro Animation
            // Mobile Check for Footer Position
            const isMobile = window.innerWidth <= 768;
            const footerTop = isMobile ? "85vh" : "65vh"; // Desktop restored to 65vh
            const footerHeight = isMobile ? "15vh" : "35vh"; // Desktop restored to 35vh

            tl.to(".curtain", {
                height: footerHeight,
                top: footerTop,
                duration: 1.6,
                ease: "power4.inOut",
                delay: 0.2
            })
                .to(".flower-center-target", {
                    scale: 0.8,
                    opacity: 0.8,
                    duration: 1.6
                }, "<")

                .to(".project-card", { y: 0, opacity: 1, duration: 1, stagger: 0.15 }, "-=0.8")
                // Reveal ALL title layers together (opacity handled by slice logic later)
                .to([".main-title-layer", ".title-slice"], { y: 0, opacity: 1, duration: 1.2, stagger: 0 }, "-=0.8")
                // But hide slices again immediately after intro, ready for interaction
                .set(".title-slice", { opacity: 0 })
                .to(".nav-menu a", { x: 0, opacity: 1, stagger: 0.1, duration: 0.8 }, "-=1.0")
                .call(() => { isIntroComplete = true; });


            // --- 1. FOOTER LOGO INTERACTION ---
            const footer = document.querySelector('.curtain');
            const logoWrapper = document.querySelector('.flower-wrapper');
            const layerRed = document.querySelector('.layer-red');
            const layerGreen = document.querySelector('.layer-green');
            const layerBlue = document.querySelector('.layer-blue');
            let logoTimer;

            footer.addEventListener('mousemove', (e) => {
                if (!isIntroComplete) return;
                clearTimeout(logoTimer);
                logoWrapper.classList.add('is-glitching-logo');

                const rect = logoWrapper.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const shiftX = ((e.clientX - centerX) / window.innerWidth) * 30;
                const shiftY = ((e.clientY - centerY) / window.innerHeight) * 30;

                gsap.to(layerRed, { x: -shiftX, y: -shiftY, opacity: 1, duration: 0.1, overwrite: 'auto' });
                gsap.to(layerBlue, { x: shiftX, y: shiftY, opacity: 1, duration: 0.1, overwrite: 'auto' });
                gsap.to(layerGreen, { x: shiftX * 0.4, y: shiftY * 0.4, opacity: 1, duration: 0.1, overwrite: 'auto' });

                logoTimer = setTimeout(() => {
                    logoWrapper.classList.remove('is-glitching-logo');
                    gsap.to([layerRed, layerBlue, layerGreen], { x: 0, y: 0, opacity: 0, duration: 0.4 });
                }, 150);
            });


            // --- 2. MAIN TITLE GLITCH & 3D INTERACTION ---
            const titleContainer = document.getElementById('titleContainer'); // The interactive area
            const titleWrapper = document.getElementById('titleWrapper'); // The 3D Object
            const slice1 = document.querySelector('.slice-1');
            const slice2 = document.querySelector('.slice-2');
            const slice3 = document.querySelector('.slice-3');
            let titleTimer;

            // Use the whole hero section or just the bottom half for title interaction
            // Let's use window to ensure "longer distance" feel, or just the container + buffer
            // Use the wrapper (text only) for interaction
            titleWrapper.addEventListener('mousemove', (e) => {
                clearTimeout(titleTimer);
                titleWrapper.classList.add('is-glitching');

                // Calculate Center of Title
                const rect = titleWrapper.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;

                // Distance from center
                const dx = e.clientX - centerX;
                const dy = e.clientY - centerY;

                // 1. 3D Tilt (Perspective)
                // Max tilt roughly 15 degrees
                const tiltY = (dx / window.innerWidth) * 20;
                const tiltX = -(dy / window.innerHeight) * 20;

                gsap.to(titleWrapper, {
                    rotateY: tiltY,
                    rotateX: tiltX,
                    duration: 0.2,
                    overwrite: 'auto'
                });

                // 2. Glitch Slices (Slit-Scan)
                const shiftFactor = 25; // Pixels max shift

                gsap.to(slice1, { x: -dx * 0.02, opacity: 1, duration: 0.1, overwrite: 'auto' });
                gsap.to(slice2, { x: dx * 0.015, opacity: 1, duration: 0.1, overwrite: 'auto' });
                gsap.to(slice3, { x: -dx * 0.03, opacity: 1, duration: 0.1, overwrite: 'auto' });

                // Stop Logic (still needed for pause within box)
                titleTimer = setTimeout(() => {
                    titleWrapper.classList.remove('is-glitching');
                    gsap.to(titleWrapper, { rotateY: 0, rotateX: 0, duration: 0.5, ease: "power2.out" });
                    gsap.to([slice1, slice2, slice3], { x: 0, opacity: 0, duration: 0.5, ease: "power2.out" });
                }, 100);
            });

            // Force reset on leave
            titleWrapper.addEventListener('mouseleave', () => {
                clearTimeout(titleTimer);
                titleWrapper.classList.remove('is-glitching');
                gsap.to(titleWrapper, { rotateY: 0, rotateX: 0, duration: 0.5, ease: "power2.out" });
                gsap.to([slice1, slice2, slice3], { x: 0, opacity: 0, duration: 0.5, ease: "power2.out" });
            });
        });
    </script>
</body>

</html>